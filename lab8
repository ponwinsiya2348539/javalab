/*
* Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this
license
* Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
*/
package com.mycompany.mavenproject2;
import java.sql.*;
import java.util.Vector;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
/**
*
* @author kripa
*/
public class NewJFrame extends javax.swing.JFrame {
/**
* Creates new form NewJFrame
*/
public NewJFrame() {
initComponents();
connect();
Load();
}
Connection con;
PreparedStatement pat;
DefaultTableModel def;
public void connect()
{
try {
Class.forName("com.mysql.cj.jdbc.Driver");
con=DriverManager.getConnection("jdbc:mysql://localhost/international","root","");
} catch (ClassNotFoundException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
} catch (SQLException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
}
}

public void Load()
{
try {
pat=con.prepareStatement("select *from Stu1");
ResultSet rs=pat.executeQuery();
ResultSetMetaData rss=rs.getMetaData();
int c;
c=rss.getColumnCount();
def=(DefaultTableModel)jTable1.getModel();
def.setRowCount(0);
while(rs.next())
{
Vector v=new Vector();
for(int i=0;i<c;i++)
{
v.add(rs.getString("id"));
v.add(rs.getString("name"));
v.add(rs.getString("contact"));
v.add(rs.getString("country"));
}
def.addRow(v);
}
} catch (SQLException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
}
}
/**
* This method is called from within the constructor to initialize the form.
* WARNING: Do NOT modify this code. The content of this method is always
* regenerated by the Form Editor.
*/
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {
jLabel1 = new javax.swing.JLabel();
jLabel6 = new javax.swing.JLabel();
EM = new javax.swing.JTextField();
add = new javax.swing.JButton();
jLabel2 = new javax.swing.JLabel();
FNM1 = new javax.swing.JTextField();
CNO = new javax.swing.JTextField();

EDIT = new javax.swing.JButton();
SEARCH = new javax.swing.JButton();
DELETE = new javax.swing.JButton();
CNM = new javax.swing.JTextField();
FNM = new javax.swing.JLabel();
jLabel8 = new javax.swing.JLabel();
jLabel9 = new javax.swing.JLabel();
jLabel10 = new javax.swing.JLabel();
jScrollPane1 = new javax.swing.JScrollPane();
jTable1 = new javax.swing.JTable();
jLabel1.setText("jLabel1");
jLabel6.setText("jLabel6");
setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
add.setText("ADD");
add.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
addActionPerformed(evt);
}
});
jLabel2.setText("INTERNATIONAL CONFERENCE");
CNO.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
CNOActionPerformed(evt);
}
});
EDIT.setText("EDIT");
EDIT.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
EDITActionPerformed(evt);
}
});
SEARCH.setText("SEARCH");
SEARCH.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
SEARCHActionPerformed(evt);
}

});
DELETE.setText("DELETE");
DELETE.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
DELETEActionPerformed(evt);
}
});
CNM.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
CNMActionPerformed(evt);
}
});
FNM.setText("FULL NAME");
jLabel8.setText("EMAIL");
jLabel9.setText("CONTACT NO");
jLabel10.setText("COUNTRY");
jTable1.setModel(new javax.swing.table.DefaultTableModel(
new Object [][] {
{null, null, null, null, null},
{null, null, null, null, null},
{null, null, null, null, null},
{null, null, null, null, null},
{null, null, null, null, null}
},
new String [] {
"id", "name", "email", "contact", "country"
}
));
jScrollPane1.setViewportView(jTable1);
javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
getContentPane().setLayout(layout);
layout.setHorizontalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGap(27, 27, 27)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)

.addComponent(add)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

.addComponent(jLabel8)
.addComponent(FNM)
.addComponent(jLabel9)
.addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 64,

javax.swing.GroupLayout.PREFERRED_SIZE)))
.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

.addGroup(layout.createSequentialGroup()
.addGap(18, 18, 18)
.addComponent(EDIT)
.addGap(30, 30, 30)
.addComponent(DELETE)
.addGap(46, 46, 46)
.addComponent(SEARCH))
.addGroup(layout.createSequentialGroup()
.addGap(46, 46, 46)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

.addGroup(layout.createSequentialGroup()
.addGap(43, 43, 43)
.addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE,

208, javax.swing.GroupLayout.PREFERRED_SIZE))
.addGroup(layout.createSequentialGroup()

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addComponent(FNM1, javax.swing.GroupLayout.PREFERRED_SIZE,

189, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(CNO, javax.swing.GroupLayout.PREFERRED_SIZE,

185, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(EM, javax.swing.GroupLayout.PREFERRED_SIZE, 189,

javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(CNM, javax.swing.GroupLayout.PREFERRED_SIZE,

185, javax.swing.GroupLayout.PREFERRED_SIZE))

.addGap(18, 18, 18)
.addComponent(jScrollPane1,
javax.swing.GroupLayout.PREFERRED_SIZE, 452,
javax.swing.GroupLayout.PREFERRED_SIZE)))))

.addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
);

layout.setVerticalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGap(19, 19, 19)
.addComponent(jLabel2)
.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

.addGroup(layout.createSequentialGroup()
.addGap(23, 23, 23)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(FNM1, javax.swing.GroupLayout.PREFERRED_SIZE,
javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(FNM))
.addGap(18, 18, 18)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(EM, javax.swing.GroupLayout.PREFERRED_SIZE,
javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(jLabel8))
.addGap(26, 26, 26)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(CNO, javax.swing.GroupLayout.PREFERRED_SIZE,
javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(jLabel9))
.addGap(25, 25, 25)

.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(CNM, javax.swing.GroupLayout.PREFERRED_SIZE,
javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

.addComponent(jLabel10)))
.addGroup(layout.createSequentialGroup()
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
.addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE,

275, javax.swing.GroupLayout.PREFERRED_SIZE)))
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

.addComponent(add)
.addComponent(EDIT)
.addComponent(DELETE)
.addComponent(SEARCH))
.addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))

);
pack();
}// </editor-fold>
private void addActionPerformed(java.awt.event.ActionEvent evt) {
// TODO add your handling code here:
try {
String name,country,email,contact;
name=FNM1.getText();
email=EM.getText();
contact=CNO.getText();
country=CNM.getText();
pat=con.prepareStatement("insert into
table1(name,email,contact,country)values(?,?,?,?)");
pat.setString(1,name);
pat.setString(2,email);

pat.setString(2,email);
pat.setString(4,country);
pat.executeUpdate();
JOptionPane.showMessageDialog(this,"Records Added");
Load();
EM.setText("");
FNM1.setText("");
CNO.setText("");
CNM.requestFocus();
} catch (SQLException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
}
}
private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {
// TODO add your handling code here:
def=(DefaultTableModel)jTable1.getModel();
int selected=jTable1.getSelectedRow();
int id=Integer.parseInt(def.getValueAt(selected, 0).toString());
EM.setText(def.getValueAt(selected, 1).toString());
FNM1.setText(def.getValueAt(selected, 2).toString());
CNO.setText(def.getValueAt(selected, 3).toString());
CNM.setText(def.getValueAt(selected, 4).toString());

}
}
private void EDITActionPerformed(java.awt.event.ActionEvent evt) {
def=(DefaultTableModel)jTable1.getModel();
int selected=jTable1.getSelectedRow();
int id=Integer.parseInt(def.getValueAt(selected, 0).toString());
try {
String name,country,email,contact;
int contact;
name=FNM1.getText();
email=EM.getText();
contact=CNO.getText();
country=CNM.getText();
pat=con.prepareStatement("update table1 set name=?,email=?,contact=?,country=?
where id=?");
pat.setString(1,name);
pat.setString(2,email);
pat.setString(3,contact);
pat.setString(4,country);
pat.setInt(4, id);
pat.executeUpdate();
JOptionPane.showMessageDialog(this,"Records Updated");
Load();
EM.setText("");
FNM1.setText("");
CNO.setText("");
CNM.setText("");
CNM.requestFocus();
} catch (SQLException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
}
}
private void SEARCHActionPerformed(java.awt.event.ActionEvent evt) {
// TODO add your handling code here:
}
private void DELETEActionPerformed(java.awt.event.ActionEvent evt) {
def=(DefaultTableModel)jTable1.getModel();
int selected=jTable1.getSelectedRow();
int id=Integer.parseInt(def.getValueAt(selected, 0).toString());

try {
pat=con.prepareStatement("delete from table1 where id=?");
pat.setInt(1, id);
pat.executeUpdate();
JOptionPane.showMessageDialog(this,"Records Deleted");
Load();
EM.setText("");
FNM1.setText("");
CNO.setText("");
CNM.setText("");
CNM.requestFocus();
} catch (SQLException ex) {
Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
}
}
}
private void CNOActionPerformed(java.awt.event.ActionEvent evt) {
// TODO add your handling code here: System.exit(0);
System.exit(0);
}
private void CNMActionPerformed(java.awt.event.ActionEvent evt) {
// TODO add your handling code here:
}
/**
* @param args the command line arguments
*/
public static void main(String args[]) {
/* Set the Nimbus look and feel */
//<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
/* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
* For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
*/
try {
for (javax.swing.UIManager.LookAndFeelInfo info :
javax.swing.UIManager.getInstalledLookAndFeels()) {
if ("Nimbus".equals(info.getName())) {
javax.swing.UIManager.setLookAndFeel(info.getClassName());
break;

}
}
} catch (ClassNotFoundException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (InstantiationException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (IllegalAccessException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (javax.swing.UnsupportedLookAndFeelException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
}
//</editor-fold>
try {
for (javax.swing.UIManager.LookAndFeelInfo info :
javax.swing.UIManager.getInstalledLookAndFeels()) {
if ("Nimbus".equals(info.getName())) {
javax.swing.UIManager.setLookAndFeel(info.getClassName());
break;
}
}
} catch (ClassNotFoundException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (InstantiationException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (IllegalAccessException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);
} catch (javax.swing.UnsupportedLookAndFeelException ex) {
java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEV
ERE, null, ex);

}
/* Create and display the form */
java.awt.EventQueue.invokeLater(new Runnable() {
public void run() {
new NewJFrame().setVisible(true);
}
});
}
// Variables declaration - do not modify
private javax.swing.JTextField CNM;
private javax.swing.JTextField CNO;
private javax.swing.JButton DELETE;
private javax.swing.JButton EDIT;
private javax.swing.JTextField EM;
private javax.swing.JLabel FNM;
private javax.swing.JTextField FNM1;
private javax.swing.JButton SEARCH;
private javax.swing.JButton add;
private javax.swing.JLabel jLabel1;
private javax.swing.JLabel jLabel10;
private javax.swing.JLabel jLabel2;
private javax.swing.JLabel jLabel6;
private javax.swing.JLabel jLabel8;
private javax.swing.JLabel jLabel9;
private javax.swing.JScrollPane jScrollPane1;
private javax.swing.JTable jTable1;
// End of variables declaration
}
